echo "ğŸƒ Running commit checks..."

run_command() {
  echo "\nâ–¶ï¸ Running: $@"
  output=$("$@" 2>&1)
  status=$?
  if [ $status -eq 0 ]; then
    echo "âœ… $1 successful!"
  else
    echo "âŒ $1 failed!"
    echo "--- Error Output ---"
    echo "$output"
    echo "--------------------"
    return 1
  fi
}

echo "\nğŸ“‹ Checking commit message format..."
run_command npx --no-install commitlint --edit "$1" || exit 1

echo "\nâœ… All checks passed! Proceeding with commit..."
