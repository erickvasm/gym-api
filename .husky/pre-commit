#!/bin/sh

printf "ğŸƒ Running pre-commit checks...\n"

run_command() {
  output=$("$@" 2>&1)
  status=$?
  if [ $status -eq 0 ]; then
    printf "âœ… %s successful!\n" "$1"
  else
    printf "âŒ %s failed!\n" "$1"
    printf "%s\n" "$output"
    exit 1
  fi
}

printf "\nğŸ“ Running Prettier..."
run_command npm run format

printf "\nğŸ” Running ESLint..."
run_command npm run lint

printf "\nğŸ§ª Running Tests...\n"
run_command npm run test

if [ $? -eq 0 ]; then
  prinf "\nâœ… All checks passed! Proceeding with commit..."
else
  printf "\nâŒ One or more checks failed. Aborting commit."
  exit 1
fi
